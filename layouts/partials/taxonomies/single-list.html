{{ $context := . }}
{{ $type := .Type }}
{{ $taxonomies := .Params.taxonomies }}

{{ if $taxonomies }}
  <ul class="taxonomies-single {{ $type }}-taxonomies" aria-label="{{ i18n "categories.label" }}">
    {{ range $taxonomies }}
      {{ if .categories }}
        <li class="terms {{ if .slug -}} taxonomy-{{- .slug }} {{- end }}">
          <span class="taxonomy-title">{{ .name }}</span>
          {{ with .categories }}
            {{ $categories := partial "GetObjectsFromPathSlice" . }}

            {{ partial "commons/categories.html" (dict 
                "kind" $context.Kind
                "context" $context
                "categories" $categories
                "class" "taxonomy-children"
              )}}
          {{ end }}
        </li>
      {{ end }}
    {{ end }}
  </ul>
{{ end }}
